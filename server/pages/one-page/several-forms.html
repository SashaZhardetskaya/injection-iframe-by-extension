<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <form class="form-inline my-2 my-lg-0 offset-md-7">
            <input class="form-control mr-sm-2" type="email" id="nav-email" placeholder="Email" aria-label="email">
            <input class="form-control mr-sm-2" type="password" id="nav-pass" placeholder="Password"
                   aria-label="password">
            <button class="btn btn-primary my-2 my-sm-0" id="nav-login" type="submit">Login</button>
        </form>
    </div>
</nav>

<div class="container main mt-5">
    <div class="row">
        <div class="col-sm mt-5">
            <form>
                <h2>Login</h2>
                <div class="form-group">
                    <label for="exampleInputEmail1">Email address</label>
                    <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter email">
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword1">Password</label>
                    <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="gridCheck1">
                        <label class="form-check-label" for="gridCheck1">
                            Check me out
                        </label>
                    </div>
                </div>
                <button type="submit" id="login" class="btn btn-primary">Submit</button>
            </form>
        </div>

        <div class="col-sm mt-5">
            <form class="js-submit" method="post" action="/submit">
                <h2>Sign Up</h2>
                <div class="form-group">
                    <label for="exampleInputEmail2">Email address</label>
                    <input type="email" name="email" class="form-control" id="exampleInputEmail2"
                           placeholder="Enter email">
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword2">Password</label>
                    <input type="password" name="password" class="form-control" id="exampleInputPassword2"
                           placeholder="Password">
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword3">Confirm Password</label>
                    <input type="password" name="password" class="form-control" id="exampleInputPassword3"
                           placeholder="Password">
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="gridCheck2">
                        <label class="form-check-label" for="gridCheck2">
                            Check me out
                        </label>
                    </div>
                </div>
                <button type="submit" id="submit" class="btn btn-primary">Submit</button>
            </form>

            <div class="col-sm mt-5">
                <form>
                    <h2>Change password</h2>
                    <div class="form-group">
                        <label for="user_old_password">Old password</label>
                        <input type="password" id="user_old_password" class="form-control"
                               placeholder="Enter old password">
                    </div>
                    <div class="form-group">
                        <label for="user_new_password">New Password</label>
                        <input type="password" id="user_new_password" class="form-control" placeholder="New Password">
                    </div>
                    <div class="form-group">
                        <label for="user_confirm_new_password">New Password again</label>
                        <input type="password" id="user_confirm_new_password" class="form-control"
                               placeholder="New Password">
                    </div>
                    <button type="submit" id="change-pass" class="btn btn-primary">change password</button>
                </form>
            </div>

            <script>
              var formSubmitSignup = document.querySelector('.js-submit');
              formSubmitSignup.addEventListener('submit', function (ev) {
                ev.preventDefault();
                var xhr = new XMLHttpRequest();

                xhr.open('POST', 'submit', true);

                // var data = new FormData();
                // data.append("email", "1345")
                // data.append("pass", "6890")

                var data = JSON.stringify({
                  ema: '12',
                  pass: 23
                });
                xhr.send(data);

                if (xhr.status != 200) {
                  // обработать ошибку
                  alert(xhr.status + ': ' + xhr.statusText); // пример вывода: 404: Not Found
                } else {
                  // вывести результат
                  alert(xhr.responseText); // responseText -- текст ответа.
                }
              });
            </script>
        </div>
    </div>

    <div class="row">
        <div class="col-sm mt-5">
            <form>
                <h2>Card</h2>
                <div class="form-group">
                    <input type="text" class="form-control" id="card-number" name="paymentCardNumberSecure"
                           placeholder="Card number">
                </div>
                <div class="form-group row">
                    <div class="col">
                        <input type="text" class="form-control col" id="card-month" name="paymentCardMonth"
                               placeholder="Card Month">
                    </div>
                    <div class="col">
                        <input type="text" class="form-control col" id="card-year" name="paymentCardYear"
                               placeholder="Card Year">
                    </div>
                </div>
                <div class="form-group">
                    <input type="email" class="form-control" id="customer-email2" placeholder="Email">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="card-cvv" name="paymentCardCVV" placeholder="***">
                </div>
                <button type="submit" id="card-submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
        <div class="col-sm mt-5">
            <form>
                <h2>Other</h2>
                <div class="form-group row">
                    <div class="col">
                        <input type="text" class="form-control col" id="customer-name" name="customerName"
                               placeholder="Name">
                    </div>
                    <div class="col">
                        <input type="text" class="form-control col" id="customer-surname" name="customerSurname"
                               placeholder="Surname">
                    </div>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control col" id="customer-postalcode" name="customerPostalcode"
                           placeholder="Postalcode">
                </div>
                <div class="form-group">
                    <input type="email" class="form-control" id="customer-email" placeholder="Email">
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="gridCheck3">
                        <label class="form-check-label" for="gridCheck3">
                            Check me out
                        </label>
                    </div>
                </div>
                <button type="submit" id="other" class="btn btn-primary">Other</button>
            </form>
        </div>
    </div>

    <div class="row">
        <div class="col-sm mt-5">
            <form action="" class="js-ajax-container">
                <h2>Ajax Fields</h2>
                <div class="form-group">
                    <input type="text" class="form-control col" id="customer-name-ajax" name="customerName"
                           placeholder="Name">
                </div>
                <div class="form-group">
                    <button type="button" id="add" class="btn btn-info js-add">Add</button>
                    <button type="button" id="remove" class="btn btn-danger js-remove">Remove</button>
                    <button type="button" id="hide" class="btn btn-secondary js-hide">Hide</button>
                </div>
            </form>
        </div>
        <div class="col-sm">
        </div>
    </div>
</div>


<script>

  document.addEventListener('DOMContentLoaded', function (event) {

    // Emit ajax insert and remove elements
    (function () {
      const randomInteger = function (min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
      };

      const addButton = document.querySelector('.js-add');
      const removeButton = document.querySelector('.js-remove');
      const hideButton = document.querySelector('.js-hide');
      const container = document.querySelector('.js-ajax-container');

      const types = ['name', 'surname', 'email', 'password', 'address', 'postalcode'];

      addButton.addEventListener('click', function () {
        const input = document.createElement('input');
        const wrapper = document.createElement('div');
        const bearingElement = document.querySelector('.js-ajax-container .form-group:last-child');
        const type = types[randomInteger(0, types.length - 1)];

        input.setAttribute('class', 'form-control');
        input.setAttribute('name', `custom-${type}-ajax`);
        input.setAttribute('placeholder', type);

        wrapper.setAttribute('class', 'form-group');

        wrapper.appendChild(input);
        bearingElement.parentNode.insertBefore(wrapper, bearingElement);
      });


      removeButton.addEventListener('click', function (event) {
        const bearingElement = event.target.parentElement.previousElementSibling;

        bearingElement.parentElement.removeChild(bearingElement);
      });

      hideButton.addEventListener('click', function (event) {
        const bearingElement = event.target.parentElement.previousElementSibling;

        bearingElement.setAttribute('style', 'display: none');
      });

    }());
  });

</script>

</body>
</html>
